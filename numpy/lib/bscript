import os

from bento.commands.hooks \
    import \
        pre_build

@pre_build()
def pbuild(context):
    bld = context.waf_context
    def builder_compiled_base(bld, extension):
        includes = ["../core/include", "../core/include/numpy", "../core",
                    "../core/src/private"]
        bld(features="c cshlib pyext",
            target=extension.name,
            includes=includes,
            source=extension.sources)
    context.register_builder("_compiled_base", builder_compiled_base)
